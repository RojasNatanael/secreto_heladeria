{% extends "base.html" %}
{% block title %}Departamentos{% endblock %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="m-0">Listado de departamentos</h1>

    <a href="{% url 'registrar_departamento' %}" class="btn btn-primary w-25">
        Registrar departamento
    </a>
</div>

<form method="GET" class="row g-3 mb-4">

    <div class="col-md-6">
        <input type="text" name="search" class="form-control"
               placeholder="Buscar por nombre o descripción"
               value="{{ search }}">
    </div>

    <div class="col-md-2">
        <button class="btn btn-primary w-100">Filtrar</button>
    </div>
</form>

<table class="table table-striped table-bordered">
    <thead>
    <tr>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Acciones</th>
    </tr>
    </thead>

    <tbody>
    {% for d in departamentos %}
        <tr>
            <td>{{ d.nombre }}</td>
            <td>{{ d.desc }}</td>
            <td>
                <a href="{% url 'editar_departamento' d.id %}"
                   class="btn btn-sm btn-warning">
                    Editar
                </a>
            </td>
        </tr>

    {% empty %}
        <tr>
            <td colspan="3" class="text-center">
                No se encontraron registros (ಥ_ಥ)
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}

